name: Tests and Linters
on: workflow_dispatch # push
jobs:
  run_tests_and_linters:
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout
        uses: actions/checkout@v4.1.1

      - name: Setup Python
        uses: actions/setup-python@v5.0.0
        with:
          python-version: '3.11'
      
      - name: Check Python version
        run: python --version

      - name: Install Poetry Action
        uses: snok/install-poetry@v1.3.4
        
      - name: Poetry config installer.max-workers
        run: poetry config installer.max-workers 10
            
      - name: Check Poetry version
        run: poetry --version

      - name: Poetry check configs
        run: poetry config --list

      - name: Install dependencies
        run: poetry install --no-root

      - name: Print number of tests
        run: echo There are no tests!
  # run_linters:
  #   runs-on: ubuntu-22.04
  #   steps:
      - name: Print Snakemake version
        run: snakemake --version